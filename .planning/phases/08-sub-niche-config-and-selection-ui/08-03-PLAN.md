---
phase: 08-sub-niche-config-and-selection-ui
plan: 03
type: execute
wave: 3
depends_on: ["08-01"]
files_modified:
  - src/config/subNicheConfig.ts
autonomous: true
requirements:
  - SUBN-03
  - SUBN-04
  - SUBN-05
  - SUBN-07

must_haves:
  truths:
    - "SUB_NICHE_OPTIONS has populated CRM arrays for all 8 groups (3 HS + 5 RE)"
    - "SUB_NICHE_OPTIONS has populated leadSources arrays for all 8 groups"
    - "SUB_NICHE_OPTIONS has populated kpis arrays for all 8 groups"
    - "SUB_NICHE_OPTIONS has populated toolsExtra arrays for groups that need extra tools"
    - "All option strings are valid English scoring keys (match existing scoreMap lookups where applicable)"
    - "Each CRM array includes 'No CRM/Software' (or equivalent) and 'Other' as the final two options"
    - "Each KPI array includes 'We don't track any KPIs' as the last option"
    - "npm run build succeeds with zero errors"
  artifacts:
    - path: "src/config/subNicheConfig.ts"
      provides: "Fully populated SUB_NICHE_OPTIONS with research-driven option arrays"
      contains: "ServiceTitan"
  key_links:
    - from: "src/config/subNicheConfig.ts"
      to: "src/lib/scoring.ts"
      via: "Option string values must match scoring lookup keys"
      pattern: "scoreMap"
---

<objective>
Populate all SUB_NICHE_OPTIONS entries with research-driven CRM, tools, lead source, and KPI option arrays for each of the 8 sub-niche groups. This is the data population plan — no component changes, only filling the config with content from the research documents.

Purpose: This data drives all option list adaptation in Steps 2, 3, and 7. Separating data population from UI wiring allows the two concerns to be developed and reviewed independently.
Output: Fully populated SUB_NICHE_OPTIONS config with all sub-niche-specific option arrays.
</objective>

<execution_context>
@C:/Users/Emil/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Emil/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-sub-niche-config-and-selection-ui/08-CONTEXT.md
@.planning/research/FEATURES.md
@src/config/subNicheConfig.ts
@src/lib/scoring.ts
@src/components/audit/Step2Technology.tsx
@src/components/audit/Step3LeadFunnel.tsx
@src/components/audit/Step7Operations.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Populate CRM and tools options for all 8 groups</name>
  <files>
    src/config/subNicheConfig.ts
  </files>
  <action>
1. Replace the placeholder empty arrays in `SUB_NICHE_OPTIONS` for the `crms` field with research-driven option lists. These REPLACE the base niche CRM list entirely when a sub-niche is selected.

   **Source**: `.planning/research/FEATURES.md` — "Step 2 (Technology): CRM Options Per Group" and "Step 2 (Technology): Tools Checklist Additions Per Sub-Niche"

   The CRM arrays must include all options the user should see. The existing base lists (HS_CRMS, RE_CRMS) are the fallback when no sub-niche is selected, but once a sub-niche IS selected, the config list replaces the base entirely.

   **HS Group A (reactive):**
   ```typescript
   crms: [
     "ServiceTitan", "Housecall Pro", "Jobber", "FieldEdge",
     "Successware", "ServiceM8", "No CRM/Software", "Other",
   ],
   ```
   (Same as current HS_CRMS — Group A IS the current base list.)

   **HS Group B (recurring):**
   ```typescript
   crms: [
     "Jobber", "Housecall Pro", "GorillaDesk", "ZenMaid",
     "Pocomos", "Lawn Buddy", "No CRM/Software", "Other",
   ],
   ```

   **HS Group C (project_based):**
   ```typescript
   crms: [
     "Buildertrend", "JobTread", "Procore", "CoConstruct",
     "Houzz Pro", "Jobber", "No CRM/Software", "Other",
   ],
   ```

   **RE residential_sales:**
   ```typescript
   crms: [
     "Follow Up Boss", "KVCore/Inside Real Estate", "Lofty (formerly Chime)",
     "Sierra Interactive", "LionDesk", "Wise Agent", "HubSpot",
     "Salesforce", "No CRM", "Other",
   ],
   ```
   (Same as current RE_CRMS — residential sales IS the current base list.)

   **RE commercial:**
   ```typescript
   crms: [
     "Apto", "Buildout", "REThink CRM", "Salesforce",
     "HubSpot", "No CRM", "Other",
   ],
   ```

   **RE property_management:**
   ```typescript
   crms: [
     "Buildium", "AppFolio", "Propertyware", "Rent Manager",
     "Rentec Direct", "TenantCloud", "No CRM/Software", "Other",
   ],
   ```

   **RE new_construction:**
   ```typescript
   crms: [
     "Lasso CRM", "Buildertrend", "Zoho CRM",
     "Salesforce", "HubSpot", "No CRM", "Other",
   ],
   ```

   **RE luxury_resort:**
   ```typescript
   crms: [
     "Salesforce", "Follow Up Boss", "LionDesk",
     "Top Producer", "Contactually", "No CRM", "Other",
   ],
   ```

2. Populate the `toolsExtra` arrays with ADDITIONAL tools that should be appended to the base niche tools checklist. These are additive — the base HS_TOOLS or RE_TOOLS remain, and these extras are appended.

   **HS reactive:** `[]` (base HS_TOOLS is already a good match for reactive trades)

   **HS recurring:**
   ```typescript
   toolsExtra: [
     "Route Optimization Software", "Service Agreement Management Platform",
     "Recurring Payment/Subscription Processor",
   ],
   ```

   **HS project_based:**
   ```typescript
   toolsExtra: [
     "BIM/CAD Software (AutoCAD, Revit, SketchUp)",
     "Takeoff/Estimating Software (PlanSwift, Bluebeam)",
     "3D Rendering Tools (Enscape, Lumion)",
     "FF&E Specification Software (Studio Designer, Programa)",
   ],
   ```

   **RE sub-niches:** `[]` for all (base RE_TOOLS is adequate for all RE sub-niches)
  </action>
  <verify>
- `npm run build` succeeds
- All 8 groups in SUB_NICHE_OPTIONS have non-empty `crms` arrays
- Each CRM array ends with a "No CRM/Software" (or "No CRM") and "Other" option
- `toolsExtra` arrays contain only new tools not already in the base lists
  </verify>
  <done>CRM options populated for all 8 sub-niche groups with research-driven tool lists. Extra tools populated for recurring (route optimization, service agreements, recurring payments) and project-based (BIM/CAD, takeoff, 3D rendering, FF&E) HS groups.</done>
</task>

<task type="auto">
  <name>Task 2: Populate lead source options for all 8 groups</name>
  <files>
    src/config/subNicheConfig.ts
  </files>
  <action>
1. Populate the `leadSources` arrays in SUB_NICHE_OPTIONS. These REPLACE the base lead source list for the sub-niche group.

   **Source**: `.planning/research/FEATURES.md` — "Step 3 (Lead Funnel): Lead Sources Per Sub-Niche"

   Note: The research provides granular per-sub-niche lead sources (pest control, landscaping, cleaning each different). However, the grouping strategy uses 3 HS groups. For the lead sources, the recurring group (Group B) needs a combined list that covers pest + landscaping + cleaning channels. Similarly, project_based (Group C) combines roofing + painting + GC + construction + interior design.

   **HS reactive (HVAC/Plumbing/Electrical/Garage Doors):**
   ```typescript
   leadSources: [
     "Google Search/SEO", "Google Ads (PPC)", "Google Local Services Ads",
     "Facebook/Instagram Ads", "Nextdoor", "Yelp", "Angi/HomeAdvisor",
     "Emergency Call-Ins", "Home Warranty Company Referrals",
     "Word of Mouth/Referrals", "Truck Wraps/Yard Signs",
   ],
   ```

   **HS recurring (Pest Control/Landscaping/Cleaning):**
   ```typescript
   leadSources: [
     "Google Search/SEO", "Google Ads (PPC)", "Nextdoor", "Yelp",
     "Thumbtack", "Angi/HomeAdvisor", "Facebook/Instagram Ads",
     "Door-to-Door/Yard Signs", "Direct Mail/Flyers",
     "HOA Partnerships", "Seasonal Campaigns",
     "Word of Mouth/Referrals",
   ],
   ```

   **HS project_based (Roofing/Painting/GC/Construction/Interior Design):**
   ```typescript
   leadSources: [
     "Google Search/SEO", "Google Ads (PPC)", "Houzz",
     "Angi/HomeAdvisor", "Facebook/Instagram Ads",
     "Storm Chasing/Door-to-Door Canvassing",
     "Architect/Engineer Partnerships", "Real Estate Agent Referrals",
     "Builder/Developer Referrals", "Instagram/Pinterest",
     "Word of Mouth/Referrals",
   ],
   ```

   **RE residential_sales:**
   ```typescript
   leadSources: [
     "Zillow/Realtor.com", "Google Ads (PPC)", "Facebook/Instagram Ads",
     "Open Houses", "Sphere of Influence/Referrals", "Past Client Referrals",
     "Agent Website/IDX", "YouTube/Video",
     "Door Knocking/Cold Calling", "Expired/FSBO Prospecting",
     "Relocation Companies", "Builder/Developer Partnerships",
   ],
   ```
   (Same as current RE_LEAD_SOURCES.)

   **RE commercial:**
   ```typescript
   leadSources: [
     "CoStar/LoopNet Leads", "LinkedIn Outreach/Prospecting",
     "Commercial Broker Referral Network", "Cold Calling/Direct Prospecting",
     "Trade Association Networks", "RFP/Tender Response",
     "Existing Tenant Expansion/Upsell",
   ],
   ```

   **RE property_management:**
   ```typescript
   leadSources: [
     "Referrals from Sales Agents", "Direct Outreach to Property Owners",
     "Zillow Rental Manager", "Apartments.com/Rent.com Listings",
     "LinkedIn (Commercial PM)", "Facebook Property Groups",
     "Past Landlord Relationships",
   ],
   ```

   **RE new_construction:**
   ```typescript
   leadSources: [
     "Presale Reservation Lists", "Builder/Developer Referral Program",
     "Real Estate Broker Co-Op Network", "Property Exhibitions/Home Shows",
     "Facebook/Instagram Ads", "Google Ads (PPC)",
     "Email Database Campaigns", "Model Home Walk-Ins",
   ],
   ```

   **RE luxury_resort:**
   ```typescript
   leadSources: [
     "Referrals from Existing Luxury Clients",
     "International Property Portals", "Luxury Network Partnerships",
     "Instagram/Targeted Social Media",
     "Wealth Manager/Financial Advisor Partnerships",
     "Press/Editorial Features", "Private Client Events",
   ],
   ```
  </action>
  <verify>
- `npm run build` succeeds
- All 8 groups have non-empty `leadSources` arrays
- Lead sources are meaningful for each group (e.g., "Storm Chasing" only appears in project_based, "CoStar/LoopNet" only in commercial)
- "Word of Mouth/Referrals" appears in all HS groups (universal channel)
  </verify>
  <done>Lead source options populated for all 8 sub-niche groups. Each group has trade-specific channels: reactive gets emergency call-ins and home warranty referrals; recurring gets HOA partnerships and seasonal campaigns; project-based gets storm chasing and architect partnerships; RE sub-niches each get market-specific lead channels.</done>
</task>

<task type="auto">
  <name>Task 3: Populate KPI options for all 8 groups</name>
  <files>
    src/config/subNicheConfig.ts
  </files>
  <action>
1. Populate the `kpis` arrays in SUB_NICHE_OPTIONS. These REPLACE the base KPI list.

   **Source**: `.planning/research/FEATURES.md` — "Step 7 (Operations): KPIs Per Sub-Niche"

   **Important scoring note**: The scoring function `scoreKPIs()` counts how many KPIs are selected and checks for "don't track" variants. The KPI arrays must include a "We don't track any KPIs" option as the last item to maintain scoring compatibility.

   **HS reactive:**
   ```typescript
   kpis: [
     "Average Ticket/Job Value", "First-Time Fix Rate",
     "Callback/Redo Rate", "Revenue Per Technician",
     "Lead-to-Booked Rate", "Membership/Maintenance Plan Count",
     "Customer Satisfaction Score", "Emergency Call Response Time",
     "Profit Margins Per Job Type", "We don't track any KPIs",
   ],
   ```

   **HS recurring:**
   ```typescript
   kpis: [
     "Service Agreement Retention Rate", "Customer Churn Rate",
     "Revenue Per Route/Crew", "Monthly Recurring Revenue (MRR)",
     "Average Service Agreement Value", "Customer Acquisition Cost",
     "On-Time Completion Rate", "Chemical/Material Cost Per Job",
     "We don't track any KPIs",
   ],
   ```

   **HS project_based:**
   ```typescript
   kpis: [
     "Average Job/Project Value", "Estimate Close Rate",
     "Gross Margin Per Project", "Budget Adherence (CPI)",
     "Schedule Performance (SPI)", "Labor Productivity Rate",
     "Callback/Warranty Claim Rate", "Project Backlog Value",
     "Billable Hours Ratio", "We don't track any KPIs",
   ],
   ```

   **RE residential_sales:**
   ```typescript
   kpis: [
     "Leads Generated Per Agent", "Appointments Set Per Agent",
     "Conversion Rate (Lead to Client)", "Average Days to Close",
     "Cost Per Lead by Source", "GCI Per Agent",
     "Client Satisfaction Score", "Average List-to-Sale Price Ratio",
     "We don't track any KPIs",
   ],
   ```
   (Same as current RE_KPIS.)

   **RE commercial:**
   ```typescript
   kpis: [
     "Deals Closed Per Quarter", "Total Square Footage Leased",
     "Average Lease Value/Commission", "Pipeline Value",
     "Average Deal Cycle Length", "Commission Per Deal",
     "Tenant Retention Rate", "Prospecting Activity Per Broker",
     "We don't track any KPIs",
   ],
   ```

   **RE property_management:**
   ```typescript
   kpis: [
     "Occupancy Rate", "Average Days to Re-Lease",
     "Rent Collection Rate", "Maintenance Request Resolution Time",
     "Lease Renewal Rate", "Units Under Management Growth",
     "Net Operating Income (NOI) Per Property", "Owner Retention/Churn Rate",
     "We don't track any KPIs",
   ],
   ```

   **RE new_construction:**
   ```typescript
   kpis: [
     "Units Sold Per Month", "Presale Reservation Conversion Rate",
     "Average Time from Reservation to Contract",
     "Price Per SqFt vs Market Benchmark", "Co-Op Broker Deal Percentage",
     "Marketing Cost Per Unit Sold", "Cancellation/Refund Rate",
     "We don't track any KPIs",
   ],
   ```

   **RE luxury_resort:**
   ```typescript
   kpis: [
     "Average Transaction Value", "International vs Domestic Buyer Ratio",
     "Time on Market for Luxury Listings", "Close Rate from Qualified Showings",
     "Referral/Repeat Client Rate", "Average Commission Per Transaction",
     "Qualified Buyer Introductions Per Month",
     "We don't track any KPIs",
   ],
   ```
  </action>
  <verify>
- `npm run build` succeeds
- All 8 groups have non-empty `kpis` arrays
- Every KPI array ends with "We don't track any KPIs" (required for scoring compatibility)
- KPIs are meaningfully different across groups (e.g., "Occupancy Rate" only in property_management, "First-Time Fix Rate" only in reactive)
  </verify>
  <done>KPI options populated for all 8 sub-niche groups with research-driven metrics. Each group has trade-specific KPIs that users will immediately recognize as relevant to their business. All arrays include the "We don't track any KPIs" sentinel for scoring compatibility.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run test` passes
3. All 8 entries in SUB_NICHE_OPTIONS have non-empty arrays for crms, leadSources, and kpis
4. toolsExtra is populated for recurring and project_based HS groups, empty for others
5. CRM arrays end with "No CRM/Software" (or "No CRM") and "Other"
6. KPI arrays end with "We don't track any KPIs"
7. Option strings that also appear in scoring lookup tables use the exact same spelling (e.g., "ServiceTitan" not "Service Titan")
8. The reactive group CRM list matches the existing HS_CRMS list (backward compatible)
9. The residential_sales CRM and lead source lists match the existing RE_CRMS and RE_LEAD_SOURCES lists (backward compatible)
</verification>

<success_criteria>
- All 8 sub-niche groups have fully populated option arrays
- Data comes from research documents (FEATURES.md), not invented
- Option strings are valid English scoring keys
- Arrays include sentinel values for scoring compatibility
- Build passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/08-sub-niche-config-and-selection-ui/08-03-SUMMARY.md`
</output>
